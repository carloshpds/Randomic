(function(){"use strict";angular.module("RandomicApp.vendors",["ngSanitize","QuickList","ngTagsInput","angular-intro","ui.bootstrap"]),angular.module("RandomicApp.controllers",["RandomicApp.vendors"]),angular.module("RandomicApp.filters",["RandomicApp.vendors"]),angular.module("RandomicApp.factories",["RandomicApp.vendors"]),angular.module("RandomicApp.services",["RandomicApp.vendors"]),angular.module("RandomicApp.constants",["RandomicApp.vendors"]),angular.module("RandomicApp.directives",["RandomicApp.vendors"]),angular.module("RandomicApp.scripts",["RandomicApp.controllers","RandomicApp.constants","RandomicApp.filters","RandomicApp.factories","RandomicApp.services","RandomicApp.directives"]),angular.module("RandomicApp",["ui.router","RandomicApp.scripts","RandomicApp.vendors"]).run(["$window",function(t){return _.mixin(t.s.exports()),moment.lang("pt-br",{relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}}),moment.lang("pt-br")}]).config(["$httpProvider",function(){}])}).call(this),function(){"use strict";angular.module("RandomicApp").config(["$stateProvider","$urlRouterProvider",function(t,e){return e.otherwise("/random")}])}.call(this),function(){"use strict";angular.module("stateMock",[]),angular.module("stateMock").service("$state",["$q",function(t){return this.expectedTransitions=[],this.current={},this.transitionTo=function(e){return function(n){var o,a,r;if(o=null,a=null,r=null,!(e.expectedTransitions.length>0))throw Error("No more transitions were expected! Tried to transition to "+n);if(a=e.expectedTransitions.shift(),a!==n)throw Error("Expected transition to state: "+a+" but transitioned to "+n);return console.log("Mock transition to: "+n),e.current.name=n,o=t.defer(),r=o.promise,o.resolve(),r}}(this),this.go=this.transitionTo,this.is=function(t){return function(e){return t.current.name===e}}(this),this.expectTransitionTo=function(t){return function(e){return t.expectedTransitions.push(e)}}(this),this.ensureAllTransitionsHappened=function(t){return function(){if(t.expectedTransitions.length>0)throw Error("Not all transitions happened!");return!0}}(this),this}])}.call(this),function(){angular.module("RandomicApp").run(["$rootScope",function(t){return t.$on("$stateChangeSuccess",function(e,n,o,a,r){var s;return t.sidenavHidden=null!=(s=n.data)?s.sidenavHidden:void 0,t.state={state:n,params:o},t.lastState={state:a,params:r}}),t.$on("$stateChangeError",function(t,e,n,o,a,r){return console.log("[$stateChangeError] error:",r),console.log("[$stateChangeError] event:",t),console.log("[$stateChangeError] fromState, fromParams:",o,a),console.log("[$stateChangeError] toState, toParams:",e,n)}),t.$on("$stateChangeStart",function(t,e,n,o,a){return console.log("[$stateChangeStart] event:",t),console.log("[$stateChangeStart] fromState, fromParams:",o,a),console.log("[$stateChangeStart] toState, toParams:",e,n)}),t.$on("$stateChangeSuccess",function(t,e,n,o,a){return console.log("[$stateChangeSuccess] event:",t),console.log("[$stateChangeSuccess] fromState, fromParams:",o,a),console.log("[$stateChangeSuccess] toState, toParams:",e,n)})}])}.call(this),function(){"use strict";angular.module("RandomicApp.constants").constant("SG_BASE_URL","")}.call(this),function(){angular.module("RandomicApp.constants").constant("randomicStorageKeys",{INFO_KEY:"RANDOMIC_STORAGE_INFO"})}.call(this),function(){"use strict";angular.module("RandomicApp").config(["$stateProvider","$urlRouterProvider",function(t){return t.state("random",{url:"/random",templateUrl:"app/features/random/views/random-view.html",controller:"RandomController",data:{restrict:!1}})}])}.call(this),function(){"use strict";angular.module("RandomicApp.controllers").controller("RandomController",["$scope","$filter","$window","randomicStorageKeys","$timeout",function(t,e,n,o,a){return t.randomicStorage=simpleStorage.get(o.INFO_KEY),t.items=[],t.noDuplicateItems=[],t.randomItems=[],t.randomForm={allowDuplicateItem:!1,numberOfItems:1,remember:!0},t.viewUtils={showAdvancedOptions:!1,introOptions:{exitOnOverlayClick:!1,showStepNumbers:!1,disableInteraction:!0,doneLabel:"Ok",steps:[{element:".randomic-logo",intro:"Welcome to Randomic, a friendly user interface to extract random items from a simple list."},{element:"#items-input",intro:"You can add items here to start"}]}},t.validRun=!0,t.extractOnlyRandomItems=function(){var e,n;return e=_.pluck(t.randomItems,"items"),n=_.flatten(e)},t.updateNoDuplicateItems=function(){var e,n;return e=_.pluck(angular.copy(t.items),"text"),n=t.extractOnlyRandomItems(),e=_.filter(e,function(t){return!_.contains(n,t)}),t.noDuplicateItems=_.map(e,function(t){return{text:t}})},t.calcTimestampSum=function(t){var e,n,o,a;for(t||(t=_.now().toString().split("")),a=0,e=0,n=t.length;n>e;e++)o=t[e],o=parseInt(o,10),a+=o;return a},t.getRandomIndex=function(){var e,n,o,a;for(o=t.calcTimestampSum(),n=t.randomForm.allowDuplicateItem?t.items.length-1:t.noDuplicateItems.length-1,e=0;o>e;)a=_.random(0,n),e++;return a},t.validateRandomItem=function(e){var n,o,a;return a=t.extractOnlyRandomItems(),n=_.contains(a,e),o=t.randomForm.allowDuplicateItem||!n},t.getRandomItemObj=function(){var e,n,o;return e=t.getRandomIndex(),t.randomForm.allowDuplicateItem?n=t.items[e]:(n=t.noDuplicateItems[e],t.noDuplicateItems.splice(e,1)),o={item:n,index:e}},t.getRandomItems=function(e){var n,o,a;if(t.updateNoDuplicateItems(),e||(e=t.randomForm.numberOfItems),o=[],n=0,t.validRun=t.randomForm.allowDuplicateItem||t.noDuplicateItems.length>0,!t.randomForm.allowDuplicateItem&&e>t.noDuplicateItems.length&&(e=t.noDuplicateItems.length),t.validRun){for(;e>n;)a=t.getRandomItemObj().item,o.push(a.text),n++;o={items:o,text:_.toSentence(o,", "," and ")},t.addRandomItem(o),t.saveInfoInStorage()}return o},t.getAllGroupedByNItems=function(){var e,o,a;for(t.updateNoDuplicateItems(),a=0,o=0,e=[],a=n.Math.floor(t.randomForm.allowDuplicateItem?t.items.length/t.randomForm.numberOfItems:t.noDuplicateItems.length/t.randomForm.numberOfItems);a>o;)e.push(t.getRandomItems()),o++;return e},t.addRandomItem=function(e){return(null!=e?e.items:void 0)&&e.text?(t.randomItems.push(e),t.saveInfoInStorage()):!1},t.resetRandomItems=function(){return t.randomItems=[],t.saveInfoInStorage()},t.saveInfoInStorage=function(){return simpleStorage.set(o.INFO_KEY,{items:t.items,noDuplicateItems:t.noDuplicateItems,randomItems:t.randomItems,randomForm:t.randomForm,validRun:t.validRun})},t.restoreInfoFromStorage=function(){return t.randomicStorage=simpleStorage.get(o.INFO_KEY),t.randomicStorage&&(t.items=t.randomicStorage.items,t.noDuplicateItems=t.randomicStorage.noDuplicateItems,t.randomItems=t.randomicStorage.randomItems,t.randomForm=t.randomicStorage.randomForm,t.validRun=t.randomicStorage.validRun),t.randomicStorage},t.resetStorage=function(){return simpleStorage.deleteKey(o.INFO_KEY)},t.$watch("randomForm.remember",function(e){return e===!1?t.resetStorage():void 0}),t.restoreInfoFromStorage(),a(function(){return 0===t.items.length?t.startIntro():void 0}),this}])}.call(this),function(){"use strict";angular.module("RandomicApp.directives").directive("forkMeOnGithub",[function(){return{restrict:"A",require:"tooltip",replace:!0,scope:{href:"@",type:"@"},template:'<a\n  href="{{href}}"\n  target="_blank"\n  class="fork-me-on-github animated fadeIn"\n  ng-class="{\n    \'top-right\'   : type != \'circle\',\n    \'blue-circle\' : type === \'circle\'\n  }"\n  title="Fork Me !!"></a>'}}])}.call(this),angular.module("RandomicApp").run(["$templateCache",function(t){t.put("app/features/random/views/random-view.html",'<article id="random-view" ng-intro-method="startIntro" ng-intro-options="viewUtils.introOptions"><section class="bs-header" id="content-header-page"><div class="container"><div class="row"><div class="col-md-12 col-sm-12 text-center"><div class="randomic-logo"></div></div></div><div class="row" name="add-form"><div class="col-md-12"><tags-input id="items-input" ng-model="items" placeholder="Add new item" replace-spaces-with-dashes="false" enable-editing-last-tag="true" on-tag-added="saveInfoInStorage()" on-tag-removed="saveInfoInStorage()"></tags-input></div></div><form class="row" name="random-form"><div class="margin-top-default" ng-class="{ \'col-md-6\' : randomItems.length == 0, \'col-sm-6\' : randomItems.length == 0, \'col-md-4\' : randomItems.length > 0, \'col-sm-4\' : randomItems.length > 0, }"><button class="form-control btn btn-default animated fadeIn" ng-show="items.length > 0" ng-click="getRandomItems()" ng-disabled="items.length === 0 || !randomForm.numberOfItems || randomForm.numberOfItems < 1">Give me <span ng-bind="randomForm.numberOfItems"></span></button></div><div class="margin-top-default" ng-class="{ \'col-md-6\' : randomItems.length == 0, \'col-sm-6\' : randomItems.length == 0, \'col-md-4\' : randomItems.length > 0, \'col-sm-4\' : randomItems.length > 0, }"><button class="btn btn-primary form-control animated fadeIn" ng-show="items.length > 0" ng-disabled="items.length === 0 || !randomForm.numberOfItems || randomForm.numberOfItems < 1" ng-click="getAllGroupedByNItems()">Give me all grouped by <span ng-bind="randomForm.numberOfItems"></span> <span ng-show="randomForm.numberOfItems === 1">item</span> <span ng-show="randomForm.numberOfItems > 1">items</span></button></div><div class="margin-top-default" ng-class="{ \'col-md-6\' : randomItems.length == 0, \'col-sm-6\' : randomItems.length == 0, \'col-md-4\' : randomItems.length > 0, \'col-sm-4\' : randomItems.length > 0, }" ng-show="randomItems.length > 0"><button class="btn btn-danger form-control animated bounceIn" ng-click="resetRandomItems()" ng-disabled="randomItems.length === 0">Reset</button></div><div class="row" ng-show="items.length > 0"><div class="col-md-12 col-sm-12 text-center margin-top-default advanced-options-trigger-wrapper"><span ng-click="viewUtils.showAdvancedOptions = !viewUtils.showAdvancedOptions" class="glyphicon animated fadeInDown advanced-options-trigger glyphicon glyphicon-cog"></span></div><div class="row" ng-show="viewUtils.showAdvancedOptions"><div class="col-md-2 col-md-offset-3 col-sm-2 col-sm-offset-4"><label><input type="checkbox" ng-model="randomForm.allowDuplicateItem"> allow duplicate item</label></div><div class="col-md-2 col-sm-2"><label>number of items</label> <input type="number" ng-model="randomForm.numberOfItems" name="numberOfItems" class="form-control" min="1"></div><div class="col-md-2 col-sm-2"><label><input type="checkbox" ng-model="randomForm.remember" name="remember"> Use local storage</label></div></div></div></form></div></section><section class="container"><div class="row"><div class="col-md-12"><p ng-show="items.length === 0 && randomItems.length === 0" class="empty-message animated flipInX">Add items to your list</p><p ng-show="items.length > 0 && randomItems.length === 0" class="empty-message animated flipInX">Give me some random items :)</p><p ng-show="randomItems.length > 0" class="empty-message animated flipInX">Random Items</p></div></div><div class="row margin-top-default animated fadeInDown" ng-show="randomItems.length > 1"><div class="col-md-12"><input id="randomItemsFilter" type="text" ng-model="randomItemsFilter" class="form-control" placeholder="Filter"></div></div><div class="row"><div class="col-md-12"><ul class="list-unstyled margin-top-default"><li ng-repeat="randomItem in randomItems | filter:randomItemsFilter track by $index"><div class="panel panel-default animated fadeInDown"><div class="panel-body"><span ng-bind="$index + 1"></span>. <strong ng-bind="randomItem.text"></strong></div></div></li></ul></div></div></section></article>')}]);